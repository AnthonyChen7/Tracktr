<ion-view view-title="Habit Home">
  <ion-nav-buttons side="secondary">
    <button class="button button-clear button-icon" ng-click="navCreateClick()">
      <i class="ion-edit"></i>
    </button>
  </ion-nav-buttons>
  <ion-content>
    <div class="list">

       <div class="item item-divider">
         Tasks
         <ion-list>
            <ion-item ng-repeat="task in allTasks" ng-show="isTaskActiveToday(task)" ng-click="incCount(task); ">
               {{task.name}}
               <div ng-show="task.isCount">
               Count: {{countProgress(task)}}
               </div>
               <div  ng-controller="TimerCtrl" ng-show="task.isTime">
                 <div></div>
                 Total time: {{countTime(task,3)}} Hours {{countTime(task,2)}} Minutes {{countTime(task,1)}} Seconds
                 <br>
                    Time: {{progressTimer(task,3)}} Hours {{progressTimer(task,2)}} Minutes {{progressTimer(task,1)}} Seconds
                 <br>
                  <button class="button button-stable" ng-click="startTimer(task); $event.stopPropagation();" ng-disabled="task.isTimerRunning"> Start </button>
                  <button class="button button-stable" ng-click="stopTimer(task); $event.stopPropagation();" ng-disabled="!task.isTimerRunning"> Stop </button>
               </div>
            </ion-item>
         </ion-list>
       </div>

</div>

  </ion-content>
</ion-view>
