<ion-view view-title="Habit Home">
  <ion-nav-buttons id="10" side="secondary">
    <button class="button button-clear button-icon" ng-click="navCreateClick()">
      <i class="ion-edit"></i>
    </button>
  </ion-nav-buttons>
  <ion-content class="home-bg">
    <div class="card" ng-repeat="task in allTasks" ng-show="isTaskActiveToday(task) || isTaskWeekly(task) || isTaskMonthly(task)">
      <div class="item item-text-wrap">
        <div class="row"><div class="col">
          <task-icon></task-icon>
        </div></div>
        <div class="row circle-wrapper"><div class="col">
          <progress-circle></progress-circle>     
        </div></div>
        <div class="row"><div class="col text-center">
          <h2 style="text-align: center;"><b>{{task.name}}</b></h2>
        </div></div>
        <div class="row" ng-show="!task.isCount">
          <div class="col col-25 col-offset-25 text-center">
            <p style="text-align: center;">
              <b>Total:</b><br>{{countTime(task,3)}}:{{countTime(task,2)}}:{{countTime(task,1)}}
            </p>
          </div>
          <div class="col col-25 text-center">
              <p style="text-align: center;">
                <b>Current:</b><br>{{progressTimer(task,3)}}:{{progressTimer(task,2)}}:{{progressTimer(task,1)}}
              </p>
          </div>
        </div>
        <div class="row">
          <div class="col text-center" ng-show="!task.isCount && !task.isTimerRunning">
            <button class="button button-outline button-positive circle-button" ng-click="startTimer(task); $event.stopPropagation();">Start</button>
          </div>
        </div>
        <div class="row">
          <div class="col col-50 col-offset-25 text-center" ng-show="task.isCount">
            <button class="button button-outline button-balanced circle-button count-button"  ng-click="incCount(task)">Count</button>
          </div>
          <div class="col col-10 text-center" ng-show="task.isCount">
              <p style="text-align: center;">
                <button class="button button-balanced count-button">{{countProgress(task)}}</button>
              </p>
          </div>
        </div>
        <div class="row">
          <div class="col text-center" ng-show="!task.isCount && task.isTimerRunning">
            <button class="button button-outline button-assertive circle-button" ng-click="stopTimer(task); $event.stopPropagation();">Stop</button>
          </div>
         </div>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>

<!--<ion-view view-title="Habit Home" ng-init="init()">
  <ion-content ng-controller="TimerCtrl">  
    <div class="list">
      <div class="item item-divider">
          <div ng-repeat="task in allTasks" ng-show="isTaskActiveToday(task) || isTaskWeekly(task) || isTaskMonthly(task)" ng-click="incCount(task)">
            <div id="example-circle"></div>
            
            {{task.name}}
            <div ng-show="task.isCount">
               Count: {{countProgress(task)}}
            </div>
            <br>
            Total time: {{countTime(task,3)}} Hours {{countTime(task,2)}} Minutes {{countTime(task,1)}} Seconds
            <br>
            Time: {{progressTimer(task,3)}} Hours {{progressTimer(task,2)}} Minutes {{progressTimer(task,1)}} Seconds
            <br>
            
            <button class="button button-stable" ng-click="incCount(task)">Count</button>
            <button class="button button-stable" ng-click="startTimer(task); $event.stopPropagation();" ng-disabled="task.isTimerRunning">Start</button>
            <button class="button button-stable" ng-click="stopTimer(task); $event.stopPropagation();" ng-disabled="!task.isTimerRunning">Stop </button>
          </div>
      </div>
    </div>
    
    <!--<div class="list">
       <div class="item item-divider">
         Tasks
         <ion-list>
            <ion-item ng-repeat="task in allTasks" ng-show="isTaskActiveToday(task) || isTaskWeekly(task) || isTaskMonthly(task)" ng-click="incCount(task)">
               {{task.name}}
               <div ng-show="task.isCount">
               Count: {{countProgress(task)}}
               </div>
               <div  ng-controller="TimerCtrl" ng-show="task.isTime">
                 <div></div>
                 Total time: {{countTime(task,3)}} Hours {{countTime(task,2)}} Minutes {{countTime(task,1)}} Seconds
                 <br>
                    Time: {{progressTimer(task,3)}} Hours {{progressTimer(task,2)}} Minutes {{progressTimer(task,1)}} Seconds
                 <br>
                  <button class="button button-stable" ng-click="startTimer(task); $event.stopPropagation();" ng-disabled="task.isTimerRunning"> Start </button>
                  <button class="button button-stable" ng-click="stopTimer(task); $event.stopPropagation();" ng-disabled="!task.isTimerRunning"> Stop </button>
               </div>
            </ion-item>
         </ion-list>
       </div>
    </div>

  </ion-content>
</ion-view>-->
